/**
 * web-app - v2.0.0-SNAPSHOT
 * https://github.com/shree-venkat
 */
!function(){"use strict";angular.module("app",["ngRoute","ngResource","ngAnimate","ngSanitize","ngTouch","ngMessages","ui.bootstrap","ui.router","ui.router.state.events","ui.router.tabs","ui.select","ui-rangeSlider","LocalStorageModule","angular-loading-bar","toaster","angular.filter","app.common.errorhandler","app.common.logger","app.common.router","app.resources","app.navbar","app.admins","app.retail","app.dropbox","app.codepen","app.home","app.profile","app.settings"])}(),function(){"use strict";angular.module("app").config(["$locationProvider","localStorageServiceProvider","cfpLoadingBarProvider",function(a,b,c){a.hashPrefix(""),b.setPrefix("TestYourTemp"),c.includeSpinner=!1,c.latencyThreshold=500}])}(),function(){"use strict";function a(){return[{state:"home",config:{pageTitle:"Home",bannerTemplate:"app/functional/home/banner-home.html",url:"/",template:"<home></home>"}},{state:"home-no-slash",config:{pageTitle:"Home",bannerTemplate:"app/functional/home/banner-home.html",url:"",template:"<home></home>"}},{state:"error",config:{pageTitle:"Error",bannerTemplate:"banner-error.html",url:"/error",templateUrl:"app/functional/static-pages/error.html"}}]}function b(b){b.save(a(),"/error")}b.$inject=["routeRecorder"],angular.module("app").run(b)}(),function(){"use strict";angular.module("app.common.errorhandler",["app.common.logger"])}(),function(){"use strict";function a(a,b){function c(a){return a.data?a.data.Message?a.data.Message:a.data:a}function d(d){switch(d.status){case 200:b.log("Ok",c(d));break;case 401:b.log("Unauthorized",c(d));break;case 404:b.log("Not Found",c(d));break;case 500:b.log("Server Error",c(d));break;default:b.log("Error",c(d))}return a.reject(d)}return{responseError:d}}function b(a){a.interceptors.push("errorInterceptor")}a.$inject=["$q","logger"],b.$inject=["$httpProvider"],angular.module("app.common.errorhandler").factory("errorInterceptor",a).config(b)}(),function(){"use strict";angular.module("app.common.logger",["toaster"])}(),function(){"use strict";function a(a,b){function c(b,c){a.log(b+": "+c)}function d(c,d){b.success(d,c),a.info("Success: "+d)}function e(c,d){b.info(d,c),a.info("Info: "+d)}function f(c,d){b.warning(d,c),a.warn("Warning: "+d)}function g(c,d,e){b.error(d,c),a.error("Error: "+d,e)}return{log:c,success:d,info:e,warning:f,error:g}}a.$inject=["$log","toaster"],angular.module("app.common.logger").factory("logger",a)}(),function(){"use strict";angular.module("app.common.router",["ui.router"])}(),function(){"use strict";function a(a,b,c){var d=!1;!function(){a.$on("$stateChangeStart",function(){a.bannerTitle="",a.bannerSubtitle="",a.customBannerHtml="",a.showLoadingMessage=!1,a.bannerContentSrc="",a.currentState=""}),a.$on("$stateChangeSuccess",function(b,c){a.pageTitle=c.pageTitle,a.bannerContentSrc=c.bannerTemplate,a.currentState=c.name}),a.$on("$stateChangeError",function(a,b,e,f,g,h){d||(d=!0,c.warning("Warning",h))})}()}a.$inject=["$rootScope","$state","logger"],angular.module("app.common.router").run(a)}(),function(){"use strict";function a(a,b,c){function d(a,b){a.forEach(function(a){e.state(a.state,a.config)}),b&&!g&&(g=!0,f.otherwise(b))}var e=c.config.$stateProvider,f=c.config.$urlRouterProvider,g=!1;return{save:d}}a.$inject=["$rootScope","$state","routeProviders"],angular.module("app.common.router").factory("routeRecorder",a)}(),function(){"use strict";function a(a,b){var c={$stateProvider:a,$urlRouterProvider:b};this.$get=function(){return{config:c}}}a.$inject=["$stateProvider","$urlRouterProvider"],angular.module("app.common.router").provider("routeProviders",a)}(),function(){"use strict";angular.module("app.admins",[])}(),function(){"use strict";function a(a,b,c,d,e,f){a.bannerTitle="Website Administration",a.bannerSubtitle="Managing accounts using AngularJS";var g=this;g.page=null==b.search().page?1:b.search().page,g.pageSize=null==b.search().pageSize?"10":b.search().pageSize,g.searchTerm=null==b.search().searchTerm?"":b.search().searchTerm,g.totalPages=0,g.total=0,g.admins=[];var h=function(){c.query({page:g.page,pageSize:g.pageSize,searchTerm:g.searchTerm}).$promise.then(function(a){g.admins=a.Items,g.totalPages=a.TotalPages,g.total=a.TotalCount}).catch(function(a){d.error("Error","Unable to retrieve admis",a.data)})};g.loadUsers=h,g.isAdmin=function(a){return a.Roles.indexOf("Administrator")>=0},g.search=function(a){g.searchTerm=a,g.loadUsers()},g.pageSizeChanged=function(){g.page=1,g.loadUsers()},g.pageChanged=function(){g.loadUsers()},g.addUser=function(){g.modalInstance=f.open({templateUrl:"app/functional/administrators/createAdminModal.html?bust="+Math.random().toString(36).slice(2),controller:"createAdminController",controllerAs:"vm",size:"md"}),g.modalInstance.result.then(function(){g.loadUsers()}).catch(function(){})},g.deleteUser=function(a){var b=!1,e="Are you sure you want to remove "+a.DisplayName+" as Administrator?";g.modalInstance=f.open({templateUrl:"app/shared/confirmModal.html?bust="+Math.random().toString(36).slice(2),controller:"confirmController",controllerAs:"vm",resolve:{confirmTitle:function(){return"Confirm"},confirmMessage:function(){return e},confirmOkName:function(){return"Yes"},confirmCancelName:function(){return"No"}}}),g.modalInstance.result.then(function(e){(b=e)&&c.delete({username:a.Username}).$promise.then(function(){g.loadUsers(),d.success("Success",a.DisplayName+" successfully deleted")}).catch(function(a){d.error("Error","Unable to delete user",a.data)})}).catch(function(){})},g.loadUsers()}a.$inject=["$rootScope","$location","userResource","logger","$state","$uibModal"],angular.module("app.admins").component("admins",{restrict:"E",scope:{},templateUrl:"app/functional/administrators/admins.template.html",controller:a,controllerAs:"vm"})}(),function(){"use strict";function a(){return[{state:"ListAdmins",config:{url:"/website-administration",template:"<admins></admins>"}}]}function b(b){b.save(a())}b.$inject=["routeRecorder"],angular.module("app.admins").run(b)}(),function(){"use strict";function a(a,b,c,d,e){var f=this;f.submitButtonName="Create",f.pageTitle="Create",f.user={},f.getActiveDirectoryUsers=function(a){return b.activeDirectoryAccounts({searchTerm:a}).$promise.then(function(a){return c("limitTo")(a,7)})},f.userNameOnSelect=function(a,b){b.$setValidity("parse",!0),f.setUserNameValues(a)},f.setUserNameValues=function(a){f.user.Id=null,f.user.Forename=a.Forename,f.user.Surname=a.Surname,f.user.DisplayName=a.DisplayName,f.user.UserName=a.Username,f.user.EmailAddress=a.EmailAddress,f.user.IsActive=!0},f.submit=function(){return f.error=null,b.create(f.user).$promise.then(function(){e.close(),d.success("Success",f.user.DisplayName+" is added successfully","")}).catch(function(a){d.error("Error","Unable to add user",a.data)})},f.close=function(){e.dismiss("cancel")}}a.$inject=["$location","userResource","$filter","logger","$uibModalInstance"],angular.module("app.admins").controller("createAdminController",a)}(),function(){"use strict";angular.module("app.retail",[])}(),function(){"use strict";function a(a,b,c,d,e,f){a.bannerTitle="Product details",a.bannerSubtitle="Managing your retail portfolio - Showcasing how it's made using AngularJS",a.customBannerHtml=d.trustAsHtml("<h6>* The CONTENT in this demo ('.json' data & images) are from <a href='https://github.com/angular/angular-phonecat' target='_blank'>PhoneCat Tutorial App</a>, so big thanks to them for saving me a marathon effort</h6>");var g=this;g.product={},g.productId=c.productId;var h=function(){a.showLoadingMessage="Loading your selection ...",e.get({file:g.productId}).$promise.then(function(a){g.product=a,g.mainImage=g.product.images[0]}).catch(function(a){f.error("Error","Sorry, an error occurred while retrieving data",a)}).finally(function(){a.showLoadingMessage=!1})},i=function(){b.go("retail",{searchTerm:c.searchTerm,priceFrom:c.priceFrom,priceTo:c.priceTo,orderProperty:c.orderProperty})};g.loadProduct=h,g.backToSearch=i,g.loadProduct()}a.$inject=["$rootScope","$state","$stateParams","$sce","retailResource","logger"],angular.module("app.retail").component("productDetails",{restrict:"E",scope:{},templateUrl:"app/functional/retail/productDetails.template.html",controller:a,controllerAs:"vm"})}(),function(){"use strict";function a(a,b,c,d,e,f){a.bannerTitle="Retail Shopping",a.bannerSubtitle="Managing your retail portfolio - Showcasing how it's made using AngularJS",a.customBannerHtml=d.trustAsHtml("<h6>* The CONTENT in this demo ('.json' data & images) are from <a href='https://github.com/angular/angular-phonecat' target='_blank'>PhoneCat Tutorial App</a>, so big thanks to them for saving me a marathon effort</h6>");var g=this;g.products=[],g.searchTerm="",g.priceFrom=180,g.priceTo=800,g.orderProperty="age",c.searchTerm&&(g.searchTerm=c.searchTerm),c.priceFrom&&(g.priceFrom=c.priceFrom),c.priceTo&&(g.priceTo=c.priceTo),c.orderProperty&&(g.orderProperty=c.orderProperty);var h=function(a){return(!g.searchTerm||a.name.toLowerCase().indexOf(g.searchTerm.toLowerCase())>-1)&&(!g.priceFrom||a.nowPrice>=g.priceFrom)&&(!g.priceTo||a.nowPrice<=g.priceTo)},i=function(){g.searchTerm="",g.priceFrom=180,g.priceTo=800,g.orderProperty="age"},j=function(){return!(!g.searchTerm&&180===g.priceFrom&&800===g.priceTo)},k=function(){a.showLoadingMessage="Loading products ...",e.query().$promise.then(function(a){g.products=a}).catch(function(a){f.error("Error","Sorry, an error occurred while retrieving data",a)}).finally(function(){a.showLoadingMessage=!1})},l=function(a){b.go("product",{productId:a.id,searchTerm:g.searchTerm,priceFrom:g.priceFrom,priceTo:g.priceTo,orderProperty:g.orderProperty})};g.applyFilters=h,g.resetFilters=i,g.showResetFilters=j,g.loadProducts=k,g.getDetails=l,g.loadProducts()}a.$inject=["$rootScope","$state","$stateParams","$sce","retailResource","logger"],angular.module("app.retail").component("productList",{restrict:"E",scope:{},templateUrl:"app/functional/retail/productList.template.html",controller:a,controllerAs:"vm"})}(),function(){"use strict";function a(){return[{state:"retail",config:{pageTitle:"Retail Shopping",url:"/retail-product-list",template:"<product-list></product-list>",params:{searchTerm:null,priceFrom:null,priceTo:null,orderProperty:null}}},{state:"product",config:{pageTitle:"Product Details",url:"/retail-product/:productId",template:"<product-details></product-details>",params:{searchTerm:null,priceFrom:null,priceTo:null,orderProperty:null}}}]}function b(b){b.save(a())}b.$inject=["routeRecorder"],angular.module("app.retail").run(b)}(),function(){"use strict";angular.module("app.dropbox",[])}(),function(){"use strict";function a(a,b,c,d,e,f,g){a.bannerTitle="Dropbox/GDrive",a.bannerSubtitle="Dropbox or Google Drive - A simple look at file sharing/storage solution using AngularJS 1.x";var h=this;h.page=null==b.search().page?1:b.search().page,h.pageSize=null==b.search().pageSize?"10":b.search().pageSize,h.searchTerm=null==b.search().searchTerm?"":b.search().searchTerm,h.totalPages=0,h.total=0,h.files=[];var i=function(){a.showLoadingMessage="Loading files ...",c.get({page:h.page,pageSize:h.pageSize,searchTerm:h.searchTerm}).$promise.then(function(a){h.files=a.Items,h.totalPages=a.TotalPages,h.total=a.TotalCount}).catch(function(a){e.error("Error","Unable to retrieve files",a)}).finally(function(){a.showLoadingMessage=!1})};h.loadFiles=i,h.isAdmin=function(a){return a.Roles.indexOf("Administrator")>=0},h.search=function(a){h.page=1,h.searchTerm=a,h.loadFiles()},h.pageSizeChanged=function(){h.page=1,h.loadFiles()},h.pageChanged=function(){h.loadFiles()};var j=function(){window.location.href="http://CMS.ShreeVenkat.co.uk/GdriveAdmin/Index"},k=function(a){return d+"dropbox?id="+a.Id},l=function(a){var b=!1,c='Are you sure you want to remove "'+a.FileName+'" file?';h.modalInstance=g.open({templateUrl:"app/shared/confirmModal.html?v="+Math.random().toString(36).slice(2),controller:"confirmController",controllerAs:"vm",windowClass:"modal-container",resolve:{confirmTitle:function(){return"Confirm"},confirmMessage:function(){return c},confirmOkName:function(){return"Delete"},confirmCancelName:function(){return"Cancel"}}}),h.modalInstance.result.then(function(a){(b=a)&&(window.location.href="http://CMS.ShreeVenkat.co.uk/GdriveAdmin/Index")}).catch(function(){})};h.uploadFile=j,h.getDownloadFileLink=k,h.deleteFile=l,h.loadFiles()}a.$inject=["$rootScope","$location","dropboxResource","apiBaseUrl","logger","$state","$uibModal"],angular.module("app.dropbox").component("dropbox",{restrict:"E",scope:{},templateUrl:"app/functional/dropbox/dropbox.template.html",controller:a,controllerAs:"vm"})}(),function(){"use strict";function a(){return[{state:"dropbox",config:{pageTitle:"Storage",url:"/dropbox-google-drive-simulation",template:"<dropbox></dropbox>"}}]}function b(b){b.save(a())}b.$inject=["routeRecorder"],angular.module("app.dropbox").run(b)}(),function(){"use strict";angular.module("app.codepen",[])}(),function(){"use strict";function a(a,b,c){a.bannerTitle="CodePen/JSFiddle",a.bannerSubtitle="CodePen or JSFiddle - A demonstration of how it's made using AngularJS 1.x";var d=this,e=function(){d.html='<div class="sample">\r    <div>Just what you expected?</div>\r</div>\r',d.less="@blueShade: #2e6da4;\r.sample {\r    color: @blueShade;\r    font-weight: bold;\r\r    div {\r        padding: 10px;\r    }\r}\r";var a='$(".sample").append(\'<button id="clear-demo" class="btn btn-success">DIY Now!</button>\');';a+='\r\r$("#clear-demo").click(function() {\r    $(".reset").trigger(\'click\'); \r});',d.js=a,d.outputStyle="",d.outputScript="",d.outputHtml=""},f=function(){d.html="",d.less="",d.js="",d.outputStyle="",d.outputScript="",d.outputHtml=""},g=function(){d.outputStyle="",d.outputScript="",d.outputHtml=""},h=function(){d.outputStyle="",d.outputScript="",d.outputHtml="";try{var a=".output-box { "+d.less+" }";less.render(a,function(a,b){d.outputStyle=b.css}),d.html&&(d.outputScript=c.trustAsHtml('<script type="text/javascript">'+d.js+"</script>"),d.outputHtml="<div>"+d.html+"</div>")}catch(a){window.console.log(a),d.outputHtml='<div style="background:#fff0f0; color: red">'+d.html+"</div>"}},i=function(){d.modalInstance=b.open({templateUrl:"app/functional/codepen/jsconsole.modal.html?bust="+Math.random().toString(36).slice(2),controller:"jsconsoleController",controllerAs:"vm",size:"md",windowClass:"modal-container"}),d.modalInstance.result.then(function(){d.clearJsConsole()}).catch(function(){})};d.init=e,d.clear=f,d.clearOutput=g,d.run=h,d.openJsConsole=i,d.init()}a.$inject=["$rootScope","$uibModal","$sce"],angular.module("app.codepen").component("codepen",{restrict:"E",scope:{},templateUrl:"app/functional/codepen/codepen.template.html",controller:a,controllerAs:"vm"})}(),function(){"use strict";function a(){return[{state:"codepen",config:{pageTitle:"Test Your Code",url:"/code-pen-js-fiddle-simulation",template:"<codepen></codepen>"}}]}function b(b){b.save(a())}b.$inject=["routeRecorder"],angular.module("app.codepen").run(b)}(),function(){"use strict";function a(a,b){var c=this,d=function(){c.consoleInput="",c.consoleOutput=""};c.clearJsConsole=d;var e=function(){c.clearJsConsole(),c.consoleInput="'test'.replace('s', 'x'); //click play..."};c.initJsConsole=e,c.initJsConsole();var f=function(){c.consoleInput=""};c.clearJsConsoleInput=f;var g=function(){if(c.consoleInput){var a="<div> « <span>"+c.consoleInput+"</span></div>",d="";try{d=window.eval(c.consoleInput)}catch(a){d='<span style="color: #d00">'+a+"</span>"}d=void 0===d?'<span style="color: #d00">undefined</span>':'<span style="color: #090">'+d+"</span>";var e="<div> » "+d+"</div>";c.consoleOutput=b.trustAsHtml(c.consoleOutput+a+e+'<div class="separator"></div>'),$("#js-console-output-parent").animate({scrollTop:$("#js-console-output").prop("scrollHeight")},500),c.consoleInput=""}};c.runJsConsole=g,c.close=function(){a.dismiss("cancel")}}a.$inject=["$uibModalInstance","$sce"],angular.module("app.codepen").controller("jsconsoleController",a)}(),function(){"use strict";angular.module("app.home",[])}(),function(){"use strict";function a(a,b,c){var d=this,e=function(){d.name="",d.email="",d.copyUser=!1,d.message=""},f=function(e){if(!e)return void c.error("Error","Invalid form.");a.showLoadingMessage="Sending email ...",b.sendEmail({fromName:d.name,fromEmail:d.email,ccUser:d.copyUser,message:d.message}).$promise.then(function(){d.initForm(),c.success("Success","Message successfully sent.")},function(a){c.error("Error","Unable to retrieve login options",a.data)}).finally(function(){a.showLoadingMessage=!1})};d.initForm=e,d.sendMessage=f,d.initForm()}a.$inject=["$rootScope","homeResource","logger"],angular.module("app.home").component("home",{restrict:"E",scope:{},templateUrl:"app/functional/home/home.template.html",controller:a,controllerAs:"vm"})}(),function(){"use strict";angular.module("app.profile",[])}(),function(){"use strict";function a(a,b,c){a.bannerTitle="Shree Venkat",a.bannerSubtitle="A look at my contract experience";var d=this,e=function(){d.tabs=["Clientele","Proficiency"],d.profile={},d.activeTab=d.tabs[0],d.searchSkill="",d.orderProps=["categoryId","-rating","skill"],a.showLoadingMessage="Loading files ...",b.get().$promise.then(function(a){d.profile=a,d.profile.experience=d.profile.experience.sort(function(a,b){return a.startDate<b.startDate}),d.profile.loadedClient=d.profile.experience[0].client},function(a){c.error("Error","Sorry, an error to load my profile",a.data)}).finally(function(){a.showLoadingMessage=!1})};d.initProfile=e,d.initProfile()}a.$inject=["$rootScope","profileResource","logger"],angular.module("app.profile").component("profile",{restrict:"E",scope:{},templateUrl:"app/functional/profile/profile.template.html",controller:a,controllerAs:"vm"})}(),function(){"use strict";function a(){return[{state:"profile",config:{pageTitle:"Shree Venkat",url:"/profile/cv",template:"<profile></profile>"}}]}function b(b){b.save(a())}b.$inject=["routeRecorder"],angular.module("app.profile").run(b)}(),function(){"use strict";function a(a,b,c){var d=this;d.navbarExpanded=!1,d.user=null,d.loginMenuHtml=null;var e=function(){a.get("Account/LoginMenu").then(function(a){d.loginMenuHtml=b.trustAsHtml(a.data)},function(a){c.error("Error","Unable to retrieve login options",a.data)})};d.loadLoginOptions=e,d.loadLoginOptions()}a.$inject=["$http","$sce","logger"],angular.module("app.navbar",[]).controller("navbarCtrl",a)}(),function(){"use strict";angular.module("app.resources",[])}(),function(){"use strict";function a(a,b){return a(b+"dropbox",{},{get:{method:"GET"},getById:{method:"GET"}})}angular.module("app.resources").factory("dropboxResource",["$resource","apiBaseUrl",a])}(),function(){"use strict";function a(a,b){return a(b+"error",{},{get:{method:"GET"},log:{method:"POST"}})}angular.module("app.resources").factory("errorResource",["$resource","apiBaseUrl",a])}(),function(){"use strict";function a(a,b){return a(b+"Email/Contact",{},{sendEmail:{method:"GET"}})}angular.module("app.resources").factory("homeResource",["$resource","apiBaseUrl",a])}(),function(){"use strict";function a(a){return a("app/resources/data/profile/profile.data.json",{},{get:{method:"GET",isArray:!1}})}angular.module("app.resources").factory("profileResource",["$resource",a])}(),function(){"use strict";function a(a){return a("app/resources/data/retail/:file.json",{},{query:{method:"GET",params:{file:"phones"},isArray:!0}})}angular.module("app.resources").factory("retailResource",["$resource",a])}(),function(){"use strict";function a(a,b){return a(b+"User",null,{current:{method:"GET",url:b+"User/GetCurrentUser"},query:{method:"GET",url:b+"User/GetUsers"},create:{method:"POST",url:b+"User/Add"},delete:{method:"DELETE",url:b+"User/Delete"},activeDirectoryAccounts:{method:"GET",url:b+"User/GetADAccounts",isArray:!0}})}angular.module("app.resources").factory("userResource",["$resource","apiBaseUrl",a])}(),function(){"use strict";angular.module("app").filter("checkmark",function(){return function(a){return a?"✓":"✘"}})}(),function(){"use strict";function a(a,b,c,d,e){var f=this;f.title="Confirm",b&&(f.title=b),f.message="Are you sure you want to continue?",c&&(f.message=c),f.okName="Yes",d&&(f.okName=d),f.cancelName="No",e&&(f.cancelName=e),f.okAction=function(){a.close(!0)},f.cancelAction=function(){a.close(!1)}}a.$inject=["$uibModalInstance","confirmTitle","confirmMessage","confirmOkName","confirmCancelName"],angular.module("app").controller("confirmController",a)}(),function(){"use strict";angular.module("app").directive("currentPage",function(){return{restrict:"E",templateUrl:"app/shared/currentPage.html"}})}(),function(){"use strict";angular.module("app").controller("dateController",["$scope",function(a){a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!a.opened},a.dateOptions={startingDay:1},a.monthDateOptions={minMode:"month",maxMode:"month"},a.monthPopupMode="month",a.format="dd/MM/yyyy",a.altInputFormats=["dd/MM/yyyy","dd/M/yyyy","d/MM/yyyy","d/M/yy","d/M/yyyy"],a.monthFormat="MM-yy"}])}(),function(){"use strict";angular.module("app").filter("formattedSize",function(){return function(a){if(0===a)return"0 Bytes";var b=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],c=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,c)).toFixed(2))+" "+b[c]}})}(),function(){"use strict";angular.module("app").directive("ngEnterKey",function(){return function(a,b,c){b.bind("keydown keypress",function(b){13===b.which&&(a.$apply(function(){a.$eval(c.ngEnterKey)}),b.preventDefault())})}})}(),function(){"use strict";angular.module("app").directive("pageSizeOptions",function(){return{restrict:"E",templateUrl:"app/shared/pageSizeOptions.html"}})}();